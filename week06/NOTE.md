学习笔记

### 动态规划
动态规划问题通常用于计算多阶段决策问题的最优解。

多阶段，是指解决一个问题有多个步骤；
最优解，是指「最优子结构」。

#### 三个重要概念：

重复子问题：因为重复计算，所以需要「空间换时间」，记录子问题的最优解；
最优子结构：规模较大的问题的最优解，由各个子问题的最优解得到；
无后效性：
这里是百度百科的「无后效性」词条的解释：

无后效性是指如果在某个阶段上过程的状态已知，则从此阶段以后过程的发展变化仅与此阶段的状态有关，而与过程在此阶段以前的阶段所经历过的状态无关。利用动态规划方法求解多阶段决策过程问题，过程的状态必须具备无后效性。

再翻译一下就是：「动态规划」通常不关心过程，只关心「阶段结果」，这个「阶段结果」就是我们设计的「状态」。什么算法关心过程呢？「回溯算法」，「回溯算法」需要记录过程，复杂度通常较高。

而将状态定义得更具体，通常来说对于一个问题的解决是满足「无后效性」的。这一点的叙述很理论化，要通过多做相关的问题来理解「无后效性」这个概念。

#### 两个关键步骤：

设计状态：
有些题目问啥，就设计成什么；
如果不行，只要有利于状态转移，很多时候，就可以设计成状态；
根据过往经验；还有一部分问题是需要在思考的过程中调整的。

推导状态转移方程：
通常是由问题本身决定的。

#### 动态规划问题思考的两个方向：

自顶向下：即「递归 + 记忆化」，入门的时候优先考虑这样做；
自底向上：即「递推」，从一个最小的问题开始，逐步得到最终规模问题的解。后面问题见得多了，优先考虑这样做，绝大部分动态规划问题可以「自底向上」通过递推得到。

#### 考虑表格复用
动态规划问题，基于「自底向上」、「空间换时间」的思想，通常是「填表格」。

由于通常只关心最后一个状态值，或者在状态转移的时候，当前值只参考了上一行的值，因此在填表的过程中，表格可以复用，常用的技巧有：

1、滚动数组（当前行只参考了上一行的时候，可以只用 2 行表格完成全部的计算）；
2、滚动变量（斐波拉契数列问题）。
掌握非常重要的「表格复用」技巧，来自「0-1 背包问题」（弄清楚为什么要倒序填表）和「完全背包问题」（弄清楚为什么可以正向填表）；
「表格复用」的合理性，只由「状态转移方程」决定，即当前状态值只参考了哪些部分的值。

这里说一点题外话：除了基础的「0-1」背包问题和「完全背包」问题，需要掌握「表格复用」的技巧以外。在绝大多数情况下，在「力扣」上做的「动态规划」问题都可以不考虑「表格复用」。

做题通常可以不先考虑优化空间（个人观点，仅供参考），理由如下：

空间通常来说是用户不敏感的，并且在绝大多数情况下，空间成本低，我们写程序通常需要优先考虑时间复杂度最优；
时间复杂度和空间复杂度通常来说不可能同时最优，所以我们经常看到的是优化解法思路都是「空间换时间」，这一点几乎贯穿了基础算法领域的绝大多数的算法设计思想；
限制空间的思路，通常来说比较难，一般是在优化的过程中才考虑优化空间，在一些限制答题时间的场景下（例如面试），先写出一版正确的代码是更重要的，并且不优化空间的代码一般来说，可读性和可解释性更强。
以上个人建议，仅供参考。

#### 补充
创建dp数组时，有时会比原数组的size多出一格或一行一列。其目的往往是为了免去边界判断。